[{"path":"https://ropenspain.github.io/CatastRo/articles/CatastRo.html","id":"introduction-to-the-api","dir":"Articles","previous_headings":"","what":"Introduction to the API","title":"CatastRo Package","text":"R package aimed query information Sede electrónica del Catastro API directly R ide. API used retrieve spatial coordinates urban property, moreover needed owner get information, actually enough know casdrastral reference (RC) property address (fact, completely compulsory know RC, however, ensure good result response avoid mistakes RC, address can passed query ). Secondly, API can used obtain RC urban property, information, API asks longitude latitude. Furthermore, allows choose spacial reference system (SRS) list express coordinates. Finally, API tackles issue knowning exact point urban property registered. case, return properties located square 50-meters-side around given point. documentation API can found .","code":""},{"path":"https://ropenspain.github.io/CatastRo/articles/CatastRo.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"CatastRo Package","text":"package uploaded GitHub therefore, can installed using devtools library. CatastRo package depends httr XLM packages. first one used get access API GET request second parsing return request dataframe structure.","code":"library(devtools) install_github(\"rOpenSpain/CatastRo\") library(CatastRo)"},{"path":[]},{"path":"https://ropenspain.github.io/CatastRo/articles/CatastRo.html","id":"query-a-coordinate","dir":"Articles","previous_headings":"Functions of the package","what":"Query a coordinate","title":"CatastRo Package","text":"function get_rc() receives coordinates (lat lon) spatial reference system (SRS) used express . return list casdastral reference property spatial point, well string address (town street number). function accept SRS argument values “Google” “Oficial”. first uses SRS value used Google maps (‘EPSG:4326’) latter uses oficial SRS (‘EPSG:4258’) Europe. SRS given, function default choose “Google” SRS. also possible get cadastral references square 50-meters’ side centered coordinates lat lon throught function near_rc(). well get_rc(), near_rc() uses SRS = “Google” default value.","code":"reference <- get_rc(lat = 38.6196566583596, lon =  -3.45624183836806, SRS = 'EPSG:4230') print(reference) ##                                                                                                address ## 1 DS DISEMINADO  Polígono 18 Parcela 39 000100200VH67C EL TIRADERO. SANTA CRUZ DE MUDELA (CIUDAD REAL) ##               RC       SRS ## 1 13077A01800039 EPSG:4230 reference <- get_rc(lat =  38.6196566583596, lon =-3.45624183836806) print(reference) ##                                                                                 address ## 1 DS DISEMINADO  Polígono 18 Parcela 11 EL TIRADERO. SANTA CRUZ DE MUDELA (CIUDAD REAL) ##               RC       SRS ## 1 13077A01800011 EPSG:4326 references <- near_rc(lat = 40.96002, lon = -5.663408, SRS = 'EPSG:4230') print(references) ##                                           address             RC       SRS ## 1      AV REYES DE ESPAÑA 1 SALAMANCA (SALAMANCA) 5877501TL7357F EPSG:4230 ## 2 AV REYES DE ESPAÑA 2 N2-4 SALAMANCA (SALAMANCA) 5778706TL7357H EPSG:4230"},{"path":"https://ropenspain.github.io/CatastRo/articles/CatastRo.html","id":"query-cpmrc","dir":"Articles","previous_headings":"Functions of the package","what":"Query CPMRC","title":"CatastRo Package","text":"opposite query possible aswell. given function get_coor() cadastral reference (RC), province (Province) town (Municipality), get_coor returns coordinates lat lon particular SRS besides address (town, street number). argument SRS missed, case, get_coor() returns coordinates SRS = “Google” value . Neither Province Municipality required passed function, unless argument Municipality null, case argument Province needed passed. passed value Province argument Municipality argument null, function get_coor() throw error.","code":"direction <- get_coor(RC = '13077A01800039',                        SRS = 'EPSG:4230',                       Province = 'CIUDAD REAL',                        Municipality = 'SANTA CRUZ DE MUDELA') print(direction) ## $coord ## [1] 38.619657 -3.456242 ##  ## $SRS ## [1] \"EPSG:4230\" direction <- get_coor(RC = '13077A01800039',                       Province = 'CIUDAD REAL',                       Municipality = 'SANTA CRUZ DE MUDELA') print(direction) ## $coord ## [1] 38.618431 -3.457532 ##  ## $SRS ## [1] \"EPSG:4326\" direction <- get_coor(RC = '13077A01800039',  Municipality = 'SANTA CRUZ DE MUDELA') ## Error in get_coor(RC = \"13077A01800039\", Municipality = \"SANTA CRUZ DE MUDELA\"): LA PROVINCIA ES OBLIGATORIA direction <- get_coor(RC = '13077A01800039') print(direction) ## $coord ## [1] 38.618431 -3.457532 ##  ## $SRS ## [1] \"EPSG:4326\""},{"path":"https://ropenspain.github.io/CatastRo/articles/CatastRo.html","id":"integrated-tests","dir":"Articles","previous_headings":"","what":"Integrated tests","title":"CatastRo Package","text":"package built integrated test. ensures make automatically check every update made. approach tests focus two differents aims: Firstly, assert package pass R CMD build R CMD check tests automatically. Secondly, test result call API expected, case, go function´s scripts cast new structure response API. action leans two technologies contained package, part .","code":""},{"path":"https://ropenspain.github.io/CatastRo/articles/CatastRo.html","id":"testthat","dir":"Articles","previous_headings":"Integrated tests","what":"Testthat","title":"CatastRo Package","text":"Testthat R-package made Hadley can found public repository GitHub well CRAN. Testthat works hierarchical structure testing results functions package. form one tests , instance: Every test check expected value. test, gathered one script get_coor(), get_rc() near_rc() separatly. execution tasks made testthat.R contained directory ./tests.","code":"library(testthat) test_that(\"giving only the cadastral reference\", {   result <- get_coor('9872023VH5797S')   expect_that((is.numeric(result$coord) & is.character(result$SRS)), is_true()) }) ## ── Warning (<text>:4:3): giving only the cadastral reference ───────────────────── ## `expect_that()` was deprecated in the 3rd edition. ## Backtrace: ##  1. testthat::expect_that(...) ##  2. testthat:::edition_deprecate(3, \"expect_that()\") ##  ## ── Warning (<text>:4:3): giving only the cadastral reference ───────────────────── ## `is_true()` is deprecated. Please use `expect_true()` instead. ## Backtrace: ##  1. testthat::expect_that(...) ##  2. testthat condition(object) test_that(\"given Municipio, Provincia is needed\", {   result <- get_coor(RC = '13077A01800039',SRS = 'EPSG:4230', Municipality = 'SANTA CRUZ DE MUDELA')   expect_that(result, throws_error()) }) ## ── Error (<text>:8:3): given Municipio, Provincia is needed ───────────────────── ## Error in `get_coor(RC = \"13077A01800039\", SRS = \"EPSG:4230\", Municipality = \"SANTA CRUZ DE MUDELA\")`: LA PROVINCIA ES OBLIGATORIA ## Backtrace: ##  1. CatastRo::get_coor(...) ## Error: ## ! Test failed"},{"path":"https://ropenspain.github.io/CatastRo/articles/CatastRo.html","id":"travisci","dir":"Articles","previous_headings":"Integrated tests","what":"TravisCI","title":"CatastRo Package","text":"Travis-CI continuous integration service builds tests projects hosted GitHub. Apart test returns calls API, mentioned, TravisCI take care prove package pass R CMD check, make variety diagnostic checks directory structure, index control files.","code":"language: R  cache: packages sudo: false"},{"path":"https://ropenspain.github.io/CatastRo/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Angel Delgado-Panadero. Author, maintainer. Iñaki Ucar. Author.","code":""},{"path":"https://ropenspain.github.io/CatastRo/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Delgado-Panadero , Ucar (2022). CatastRo: Interface API 'Sede Electronica Del Catastro'. https://ropenspain.github.io/CatastRo/, https://github.com/rOpenSpain/CatastRo.","code":"@Manual{,   title = {CatastRo: Interface to the API 'Sede Electronica Del Catastro'},   author = {Angel Delgado-Panadero and Iñaki Ucar},   year = {2022},   note = {https://ropenspain.github.io/CatastRo/, https://github.com/rOpenSpain/CatastRo}, }"},{"path":"https://ropenspain.github.io/CatastRo/index.html","id":"catastro","dir":"","previous_headings":"","what":"Interface to the API Sede Electronica Del Catastro","title":"Interface to the API Sede Electronica Del Catastro","text":"R package query Sede Electrónica del Catastro API. API documented .","code":""},{"path":"https://ropenspain.github.io/CatastRo/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Interface to the API Sede Electronica Del Catastro","text":"","code":"library(devtools) install_github(\"rOpenSpain/CatastRo\")"},{"path":"https://ropenspain.github.io/CatastRo/index.html","id":"query-a-coordinate","dir":"","previous_headings":"","what":"Query a coordinate","title":"Interface to the API Sede Electronica Del Catastro","text":"function get_rc() receives coordinates (lat,lon) spatial reference used. return cadastral reference property spatial point, well direction (town street number). can requested get cadastral references square 50-meters side centered coordinates (lat,lon) throught function near_rc().","code":"library(CatastRo)  reference <- get_rc(lat, lon, SRS) print(reference) references <- near_rc(lat, lon, SRS) print(references)"},{"path":"https://ropenspain.github.io/CatastRo/index.html","id":"query-cpmrc","dir":"","previous_headings":"","what":"Query CPMRC","title":"Interface to the API Sede Electronica Del Catastro","text":"possible, well, opposite. Given function get_coor() cadastral reference, get_coor() returns coordinates (lat,lon) particular SRS moreover direction (town, street number).","code":"direction <- get_coor(Cadastral_Reference, SRS, Province, Municipality)  # The argument SRS could be missed, in that case, `get_coor()` returns the coordinates in the SRS used by Google Maps.  print(direction)"},{"path":"https://ropenspain.github.io/CatastRo/reference/CatastRo-package.html","id":null,"dir":"Reference","previous_headings":"","what":"CatastRo: Interface to the API 'Sede Electronica Del Catastro' — CatastRo-package","title":"CatastRo: Interface to the API 'Sede Electronica Del Catastro' — CatastRo-package","text":"Tools quering cadastral references adresses properties.","code":""},{"path":[]},{"path":"https://ropenspain.github.io/CatastRo/reference/CatastRo-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"CatastRo: Interface to the API 'Sede Electronica Del Catastro' — CatastRo-package","text":"Maintainer: Angel Delgado-Panadero delgadopanadero@gmail.com (ORCID) Authors: Iñaki Ucar (ORCID)","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/coordinates.html","id":null,"dir":"Reference","previous_headings":"","what":"Coordinates (SRS) — coordinates","title":"Coordinates (SRS) — coordinates","text":"Dataframe posible Spatial Reference Systems (SRS) availables query Catastro API.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/coordinates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coordinates (SRS) — coordinates","text":"","code":"coordinates"},{"path":"https://ropenspain.github.io/CatastRo/reference/coordinates.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Coordinates (SRS) — coordinates","text":"object class data.frame 14 rows 1 columns.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/coordinates.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Coordinates (SRS) — coordinates","text":"http://ovc.catastro.meh.es/ovcservweb/OVCSWLocalizacionRC/OVCCoordenadas.asmx?op=Consulta_RCCOOR_Distancia http://ovc.catastro.meh.es/ovcservweb/OVCSWLocalizacionRC/OVCCoordenadas.asmx?op=Consulta_CPMRC http://ovc.catastro.meh.es/ovcservweb/OVCSWLocalizacionRC/OVCCoordenadas.asmx?op=Consulta_RCCOOR","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_coor.html","id":null,"dir":"Reference","previous_headings":"","what":"Interface to query Consulta_CPMRC — get_coor","title":"Interface to query Consulta_CPMRC — get_coor","text":"Returns coordinate state SRS given Province, Municipality Cadastral Reference state.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_coor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interface to query Consulta_CPMRC — get_coor","text":"","code":"get_coor(RC, SRS= 'Google', Province = '',Municipality = '')"},{"path":"https://ropenspain.github.io/CatastRo/reference/get_coor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interface to query Consulta_CPMRC — get_coor","text":"RC Cadastral reference state. SRS Spatial Reference System desired coordinates, missed, returned coordinates given Spatial Reference System used Googlemaps ('EPSG:4326'). Province string Province state. case sensitive. Municipality string Municipality state. case sensitive.","code":"The set of the available SRS to use are available in the vector `coordinates`       from this package. A part from that, the function accept as a SRS argument       the values \"Google\" and \"Oficial\". The first uses the SRS value used by Google       maps ('EPSG:4326') while the latter uses the oficial SRS ('EPSG:4258') in       Europe. If no SRS is given, the function by default choose the \"Google\" SRS."},{"path":"https://ropenspain.github.io/CatastRo/reference/get_coor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interface to query Consulta_CPMRC — get_coor","text":"list consisting two numeric values: coordinates (latitude, longitude) reference system expressed.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_coor.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Interface to query Consulta_CPMRC — get_coor","text":"http://ovc.catastro.meh.es/ovcservweb/OVCSWLocalizacionRC/OVCCoordenadas.asmx?op=Consulta_CPMRC","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_coor.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Interface to query Consulta_CPMRC — get_coor","text":"Angel Delgado Panadero.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_coor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interface to query Consulta_CPMRC — get_coor","text":"","code":"# using all the arguments coordinates <- get_coor(\"13077A01800039\", \"EPSG:4230\", \"CIUDAD REAL\", \"SANTA CRUZ DE MUDELA\") print(coordinates) #> $coord #> [1] 38.619657 -3.456242 #>  #> $SRS #> [1] \"EPSG:4230\" #>  # # only the cadastral reference coordinates <- get_coor(\"9872023VH5797S\") print(coordinates) #> $coord #> [1] 38.640143 -3.463284 #>  #> $SRS #> [1] \"EPSG:4326\" #>"},{"path":"https://ropenspain.github.io/CatastRo/reference/get_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Interface to query Consulta_RCCOOR — get_rc","title":"Interface to query Consulta_RCCOOR — get_rc","text":"Returns Cadastral Reference state well address (municipality, street number) given coordinates SRS.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interface to query Consulta_RCCOOR — get_rc","text":"","code":"get_rc(lat,lon,SRS=\"Google\")"},{"path":"https://ropenspain.github.io/CatastRo/reference/get_rc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interface to query Consulta_RCCOOR — get_rc","text":"lat Latitude coordinate. lon Longitude coortinate. SRS Spatial Reference System used coordinates. vector allowed SRSs variable package called coordinates.","code":"The set of the available SRS to use are available in the vector `coordinates`   from this package. A part from that, the function accept as a SRS argument   the values \"Google\" and \"Oficial\". The first uses the SRS value used by Google   maps ('EPSG:4326') while the latter uses the oficial SRS ('EPSG:4258') in   Europe. If no SRS is given, the function by default choose the \"Google\" SRS."},{"path":"https://ropenspain.github.io/CatastRo/reference/get_rc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interface to query Consulta_RCCOOR — get_rc","text":"data.frame addresses states cadastral references every SRS requested.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_rc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Interface to query Consulta_RCCOOR — get_rc","text":"http://ovc.catastro.meh.es/ovcservweb/OVCSWLocalizacionRC/OVCCoordenadas.asmx?op=Consulta_RCCOOR","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_rc.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Interface to query Consulta_RCCOOR — get_rc","text":"Angel Delgado Panadero.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/get_rc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interface to query Consulta_RCCOOR — get_rc","text":"","code":"direction <- get_rc(38.6196566583596,-3.45624183836806, 'EPSG:4230') print(direction) #>                                                                                                address #> 1 DS DISEMINADO  Polígono 18 Parcela 39 000100200VH67C EL TIRADERO. SANTA CRUZ DE MUDELA (CIUDAD REAL) #>               RC       SRS #> 1 13077A01800039 EPSG:4230  directions <- get_rc(38.6196566583596,-3.45624183836806) print(directions) #>                                                                                 address #> 1 DS DISEMINADO  Polígono 18 Parcela 11 EL TIRADERO. SANTA CRUZ DE MUDELA (CIUDAD REAL) #>               RC       SRS #> 1 13077A01800011 EPSG:4326"},{"path":"https://ropenspain.github.io/CatastRo/reference/near_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Interface to query Consulta_RCCOOR_Distancia — near_rc","title":"Interface to query Consulta_RCCOOR_Distancia — near_rc","text":"Returns Cadastral Reference state well address (municipality, street number) given coordinates Spatial Reference System. case cadastral reference exact point, function returns cadastral references square 50 meters long centered current point.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/near_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interface to query Consulta_RCCOOR_Distancia — near_rc","text":"","code":"near_rc(lat, lon, SRS = \"Google\")"},{"path":"https://ropenspain.github.io/CatastRo/reference/near_rc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interface to query Consulta_RCCOOR_Distancia — near_rc","text":"lat Latitude coordinate. lon Longitude coortinate. SRS Spatial Reference System used coordinates. vector allowed SRSs variable package called coordinates.","code":"The set of the available SRS to use are available in the vector `coordinates`   from this package. A part from that, the function accept as a SRS argument   the values \"Google\" and \"Oficial\". The first uses the SRS value used by Google   maps ('EPSG:4326') while the latter uses the oficial SRS ('EPSG:4258') in   Europe. If no SRS is given, the function by default choose the \"Google\" SRS."},{"path":"https://ropenspain.github.io/CatastRo/reference/near_rc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interface to query Consulta_RCCOOR_Distancia — near_rc","text":"data.frame addresses states cadastral references nearby area location given every SRS requested.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/near_rc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Interface to query Consulta_RCCOOR_Distancia — near_rc","text":"http://ovc.catastro.meh.es/ovcservweb/OVCSWLocalizacionRC/OVCCoordenadas.asmx?op=Consulta_RCCOOR_Distancia","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/near_rc.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Interface to query Consulta_RCCOOR_Distancia — near_rc","text":"Angel Delgado Panadero.","code":""},{"path":"https://ropenspain.github.io/CatastRo/reference/near_rc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interface to query Consulta_RCCOOR_Distancia — near_rc","text":"","code":"direction <- near_rc(40.96002, -5.663408) print(direction) #>                                         address             RC       SRS #> 1 AY SANTO DOMINGO, DE 24 SALAMANCA (SALAMANCA) 6078401TL7367G EPSG:4326"},{"path":[]},{"path":"https://ropenspain.github.io/CatastRo/news/index.html","id":"catastro-010","dir":"Changelog","previous_headings":"","what":"CatastRo 0.1.0","title":"CatastRo 0.1.0","text":"Initial release.","code":""}]
